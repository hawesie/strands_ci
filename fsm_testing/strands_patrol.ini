[environment]
#prefix = /vol/robocup/2013/
#release_prefix = /
#PKG_CONFIG_PATH = /usr/lib/pkgconfig
#DISPLAY=:100
ROS_PORT=31232
ROS_MASTER_URI=http://localhost:31232


[component-roscore]
name = roscore
command = roscore -p $ROS_PORT
path = /opt/ros/groovy/bin/
execution_host = localhost
check_execution = True
check_type = pid,stdout
timeout = 10,30
blocking = True,True
ongoing = True,False
criteria = ,started core service


[component-morse]
name = morse
command = vglrun /opt/ros/groovy/bin/roslaunch strands_morse uol_mht_morse.launch
path = /usr/bin/
execution_host = localhost
check_execution = True
check_type = pid,stdout
timeout = 10,30
blocking = True,True
ongoing = True,False
criteria = ,SCENE

[component-nav]
name = nav-stack
command = roslaunch strands_morse uol_mht_nav2d.launch
path = /opt/ros/groovy/bin/
execution_host = localhost
check_execution = True
check_type = pid,stdout
timeout = 10,30
blocking = True,True
ongoing = True,False
criteria = ,Received a

[component-patroller]
name = patroller
command = roslaunch waypoint_patroller patroller.launch waypoints:=$WORKSPACE/fsm_testing/test.csv
path = /opt/ros/groovy/bin/
execution_host = localhost
check_execution = True
check_type = pid,stdout
timeout = 10,30
blocking = True,True
ongoing = True,False
criteria = ,Creating base movement client

[component-rosbag]
name = topic-logger
command = rosbag record -a -o $FSMDAT/$FSMTRA.bag  
path = /opt/ros/groovy/bin/
execution_host = localhost
check_execution = True
check_type = pid
timeout = 5
blocking = True
ongoing = True
criteria = 


[component-collector]
name = collect-logs
command = ls
path = /bin/
execution_host = localhost
check_execution = True
check_type = pid
timeout = 2
blocking = True
ongoing = False
criteria = 

[component-xvfb]
name = Xvfb
command = Xvfb -screen 0 1280x1024x24 :100
path = /usr/bin/
execution_host = localhost
check_execution = True
check_type = pid,stdout
timeout = 10,30
blocking = True,True
ongoing = True,False
criteria = ,[dix]

[component-ffmpeg]
name = ffmpeg
command = avconv -f x11grab -r 5 -s 1280x1024 -i $DISPLAY+nomouse $FSMVID/screen.mp4
path = /usr/bin/
execution_host = localhost
check_execution = True
check_type = pid,stdout
timeout = 10,30
blocking = True,True
ongoing = True,False
criteria = ,Press ctrl-c to stop encoding



[run]
name = morse_startup
namespace = http://my_namespace.com
run_order = ('roscore','morse','ffmpeg','nav-stack','patroller','topic-logger'),
#run_order = ('morse',),
run_execution_duration = 20
result_assessment_order = ('collect-logs',),
result_assessment_execution_duration = 1
